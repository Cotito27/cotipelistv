$(document).ready(function(){$(".genres__extend__button").on("click",function(){$(".dropdown-content2").is(":visible")&&$(".dropdown-content2").toggle("show"),$(".year__extend__button").find("span").html('<i class="fas fa-caret-right"></i>'),$(".dropdown-content").toggle("show"),$(this).html().includes("caret-right")?$(this).find("span").html('<i class="fas fa-caret-down"></i>'):$(this).find("span").html('<i class="fas fa-caret-right"></i>')}),$(".year__extend__button").on("click",function(){$(".dropdown-content").is(":visible")&&$(".dropdown-content").toggle("show"),$(".genres__extend__button").find("span").html('<i class="fas fa-caret-right"></i>'),$(".dropdown-content2").toggle("show"),$(this).html().includes("caret-right")?$(this).find("span").html('<i class="fas fa-caret-down"></i>'):$(this).find("span").html('<i class="fas fa-caret-right"></i>')});let e,i="";for(let e=0;e<24;e++)i+='<div className="skeletor-preview-video">\n              <div class="skeletor-preview-content">\n              <div class="skeletor-img-preview"></div>\n              <div class="line line-1"></div>\n              <div class="line line-3"></div>\n            </div>\n              </div>';function t(){let e=new IntersectionObserver((e,i)=>{e.forEach(e=>{if(e.isIntersecting&&"image-loading"==e.target.className){let t=e.target.dataset.src;t&&(e.target.src=t,e.target.classList.remove("image-loading"),e.target.classList.add("image-loaded"),i.unobserve(e.target),delete e.target.dataset.src)}})},{root:null,rootMargin:"0px",threshold:.25});document.querySelectorAll(".image-loading").forEach(i=>{e.observe(i)})}function a(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/BlackBerry/i)}function s(i){document.querySelector(".content__info__element");let t=document.querySelector(".msg__info__element");t.textContent=i,t.classList.add("show_info_element"),clearTimeout(e),e=setTimeout(function(){t.classList.remove("show_info_element")},3e3)}t();const n=document.title,o=encodeURIComponent(window.location.href),l=encodeURIComponent($('meta[property="og:image"]').attr("content"));function _(e,i){var t,a;t=screen.width/2-325,a=screen.height/2-275,window.open(e,i,"width=650,height=550,menubar=0,toolbar=0,directories=0,scrollbars=no,resizable=no,left="+t+",top="+a)}if($(".share-fb").click(function(){_("http://www.facebook.com/sharer/sharer.php?u="+o,"facebook_share")}),$(".share-twitter").click(function(){_("http://twitter.com/share?url="+o,"twitter_share")}),$(".share-google-plus").click(function(){_("https://plus.google.com/share?url="+o,"google_share")}),$(".share-linkedin").click(function(){_("https://www.linkedin.com/shareArticle?mini=true&url="+o+"&title="+n+"&summary=&source=","linkedin_share")}),$(".share-pinterest").click(function(){_("https://pinterest.com/pin/create/button/?url="+o+"&media="+l+"&description="+n,"pinterest_share")}),$(".share-tumblr").click(function(){_("http://www.tumblr.com/share/link?url="+o+"&name="+n+"&description="+n,"tumblr_share")}),location.href.includes("/my-list")&&($("body").on("mouseenter",".carousel__elemento",function(){$("[data-tippy-root]").remove(),$(this).append('<div class="block__delete__list">\n      <div class="delete__content">\n        Quitar\n      </div>\n      <div class="play__video">\n        <svg viewBox="0 0 100 100"><switch><g><path d="M84.2 43.6L24.4 3.8c-5.1-3.4-12 .3-12 6.4v79.5c0 6.2 6.9 9.8 12 6.4l59.8-39.8c4.5-2.9 4.5-9.7 0-12.7z"></path></g></switch></svg>\n      </div>\n    </div>')}),$("body").on("mouseleave",".carousel__elemento",function(){$("[data-tippy-root]").remove(),$(this).find(".block__delete__list").remove()})),$("body").on("click",".delete__content",async function(e){e.preventDefault(),$(".loader__my__list").addClass("d-flex-show");let i=$(this).parent().parent().attr("data-video-id"),t=$(this).parent().parent(),a=$("#btnModalLogin").attr("data-user-id"),s=new FormData;s.set("video_id",i),s.set("user_id",a);let n=await fetch("/deleteWatchList/",{method:"POST",body:s});(await n.json()).success?(t.remove(),$(".carousel__elemento").length<1&&($("#pagination_container").remove(),$(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>')),socket.emit("deleteListWatch",{item:i}),$(".loader__my__list").removeClass("d-flex-show")):(console.log("error"),$(".loader__my__list").removeClass("d-flex-show"))}),socket.on("getNewList",function(e){$(`[data-video-id=${e.item}]`).remove(),$(".carousel__elemento").length<1&&($("#pagination_container").remove(),$(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>'))}),a()){let e;function d(){clearTimeout(e)}$("body").on("contextmenu",".carousel__elemento",function(e){return!1}),$("body").on("dragstart","img",function(e){e.preventDefault()}),$("body").on("touchstart",".carousel__elemento",function(i){$(".carousel__active__element").removeClass("carousel__active__element"),$(this).addClass("carousel__active__element"),d(),e=setTimeout(()=>{s(this.querySelector(".title-video").textContent)},500)}),$("body").on("touchmove",".carousel__elemento",function(i){d(),e=setTimeout(()=>{s(this.querySelector(".title-video").textContent)},500)}),$("body").on("touchend",".carousel__elemento",function(e){$(this).removeClass("carousel__active__element"),d()}),$("body").on("touchcancel",".carousel__elemento",function(e){$(this).removeClass("carousel__active__element"),d()})}function c(){$("[data-tippy-root]").remove(),a()||tippy(".tooltip_auto",{placement:"bottom",followCursor:!0,distance:10,allowHTML:!0,animation:"fade",theme:"dark",delay:[650,20],placement:"bottom",arrow:!1,onShow(e){$("[data-tippy-root]").remove()},onHide(e){$("[data-tippy-root]").remove()}})}c(),window.innerWidth<=568&&$(document).on("click.sidebar",function(e){var i=$(e.target);if(!$(".sidebar").hasClass("d-none")&&!(i.closest(".sidebar").length||i.closest(".menu__bars").length||i.closest(".multiple__options").length||i.closest(".fa-caret-right").length||i.closest(".fa-caret-down").length)){$(".sidebar").attr("style","display:none;"),document.querySelector(".block__container__sidebar").classList.add("d-none")}}),$(".menu__bars").on("click",function(){if($(".sidebar").toggle("d-none"),document.querySelector(".container").classList.toggle("extend-block-left"),document.querySelector(".content-footer").classList.toggle("extend-block-left"),window.innerWidth<=568){let e=document.querySelector(".block__container__sidebar");e.classList.contains("d-none")?e.classList.remove("d-none"):e.classList.add("d-none")}}),socket.on("getComment",function(e){$(".not__found__comments")[0]&&$(".not__found__comments").remove();let i=timeago.format(e.timestamp,"es"),t=$("#btnModalLogin").attr("data-foto-user");$(".section__comments").prepend(`<div class="comment__total__user" data-id-comment="${e._id}">\n    <div class="comment__original">\n        <div class="comment__content__user">\n          <div class="img__user__comment">\n            <img src="${e.foto}" alt="">\n          </div>\n          <div class="user__comment">\n            <div class="info__user__comment">\n              <div class="nom__user">${e.name}</div>\n              <div class="separating__info__date">•</div>\n              <div class="date__comment" data-time-stamp="${e.timestamp}">${i}</div>\n            </div>\n            <div class="comment__text">\n              <div class="content__comment__user comment__text__user">${e.comment}</div>\n            </div>\n          </div>\n        </div>\n        <div class="actions__comment">\n          <div class="like__action">\n            <i class="far fa-thumbs-up"></i>\n            <div class="number__likes__comment">${e.likes.length}</div>\n          </div>\n          <div class="dislike__action">\n            <i class="far fa-thumbs-down"></i>\n            <div class="number__dislikes__comment">${e.dislikes.length}</div>\n          </div>\n          <div class="reply__action">\n            Responder\n          </div>\n        </div>\n      </div>\n    <div class="subcomment__original">\n      \n    </div>\n    <div class="indicator__response__user">\n      Respondiendo a <div class="nom__user__destino">${e.name}</div>\n    </div>\n    <div class="my__subcomment__content">\n      <div class="my__img__subcomment">\n        <img class="my__foto__subcomment" src="${t}" alt="">\n      </div>\n      <div class="description__subcomment">\n        <textarea\n          class="input__subcomment"\n          placeholder="Escribe un comentario"\n        ></textarea>\n        <div class="content__btn__subcomment">\n          <button class="btn__send__subcomment">Comentar</button>\n        </div>\n      </div>\n    </div>\n  </div>`)}),setInterval(function(){$(".date__comment,.date__subcomment").each(function(){let e=$(this).attr("data-time-stamp"),i=timeago.format(e,"es");$(this).text(i)})},6e4),socket.on("addListMe",function(e){e?($(".save__lista__video").html("Agregado a mi lista"),$(".save__lista__video").css("pointer-events","auto"),$(".save__lista__video").addClass("lista__added")):($(".save__lista__video").html("Agregar a mi lista"),$(".save__lista__video").css("pointer-events","auto"),$(".save__lista__video").removeClass("lista__added"))}),$("body").on("click",".save__lista__video",async function(){if($("[data-login-start]")[0])if($(this).css("pointer-events","none"),$(this).html('<div class="la-ball-clip-rotate la-light la-sm">\n    <div></div>\n  </div>'),$(this).hasClass("lista__added")){let e=_id_video;$(".stream__video")[0]&&(e=$(".stream__video").attr("data-target-id"));let i=titleVideoS,t=imageVideoS,a=yearVideoS,s=scoreVideoS,n=$("#btnModalLogin").attr("data-user-id"),o=new FormData;o.set("video_id",e),o.set("user_id",n),o.set("title",i),o.set("image",t),o.set("year",a),o.set("score",s);let l="";l=$(".stream__video").attr("data-type-video"),o.set("type",l);let _=await fetch("/saveWatchList/",{method:"POST",body:o});(await _.json()).success&&($(this).html("Agregar a mi lista"),$(this).css("pointer-events","auto"),$(this).removeClass("lista__added"),socket.emit("addListMe",!1))}else{let e=_id_video;$(".stream__video")[0]&&(e=$(".stream__video").attr("data-target-id"));let i=titleVideoS,t=imageVideoS,a=yearVideoS,s=scoreVideoS,n=$("#btnModalLogin").attr("data-user-id"),o=new FormData;o.set("video_id",e),o.set("user_id",n),o.set("title",i),o.set("image",t),o.set("year",a),o.set("score",s);let l="";l=$(".stream__video").attr("data-type-video"),o.set("type",l);let _=await fetch("/saveWatchList/",{method:"POST",body:o});(await _.json()).success&&($(this).html("Agregado a mi lista"),$(this).css("pointer-events","auto"),$(this).addClass("lista__added"),socket.emit("addListMe",!0))}else $("#modalLogin").attr("style","display:flex;")}),$("body").on("click",".add__new__list",function(){$("#modalWatchList").find(".modal-content").html('<span class="close">&times;</span>\n    <div class="modal__header p-t-0">\n      <div class="return__back__list">\n        <i class="fas fa-arrow-left"></i>\n      </div>\n      <div class="title__form__list">\n        Nueva Lista\n      </div>\n    </div>\n    <div class="modal__body">\n      <div class="form__list__watch">\n        <div class="name__list">\n          <label for="#nameList">Nombre</label>\n          <input type="text" id="nameList" placeholder="Nueva Lista">\n        </div>\n        <div class="desc__list">\n          <label for="#descList">Descripción</label>\n          <textarea id="descList" placeholder="Alguna descripción"></textarea>\n        </div>\n        <button class="btnCreateList">Crear Lista</button>\n      </div>\n    </div>')}),$("body").on("click",".return__back__list",function(){$("#modalWatchList").find(".modal-content").html('<span class="close">&times;</span>\n    <div class="modal__header">\n      Agregar a:\n    </div>\n    <div class="modal__body">\n      <div class="add__new__list">\n        <svg viewBox="0 0 100 100"><path d="M50 23a4 4 0 00-4 4v19H27a4 4 0 100 8h19v19a4 4 0 108 0V54h19a4 4 0 100-8H54V27a4 4 0 00-4-4z" overflow="visible" color="#000" style="text-indent: 0px; text-transform: none;"></path></svg> Nueva Lista\n      </div>\n      <div class="list__watch">\n        <svg viewBox="0 0 100 100"><path d="M50 23a4 4 0 00-4 4v19H27a4 4 0 100 8h19v19a4 4 0 108 0V54h19a4 4 0 100-8H54V27a4 4 0 00-4-4z" overflow="visible" color="#000" style="text-indent: 0px; text-transform: none;"></path></svg> Lista 1\n      </div>\n    </div>')}),$("body").on("click",".more__comments",async function(){$(".more__comments").css("pointer-events","none"),$(".more__comments").html('<div class="la-ball-clip-rotate la-light la-sm">\n    <div></div>\n  </div>');let e=$(".comment__total__user").length,i=_id_video,t=$("#btnModalLogin").attr("data-user-id"),a=$(this).attr("data-next-page"),s=await fetch(`/getComments/${i}?page=${parseInt(a)+1}`),n=await s.json();n.comments.forEach((i,a)=>{let s=timeago.format(i.timestamp,"es"),n=$("#btnModalLogin").attr("data-foto-user");$(".section__comments").append(`<div class="comment__total__user" data-id-comment="${i._id}">\n      <div class="comment__original">\n        <div class="comment__content__user">\n          <div class="img__user__comment">\n            <img src="${i.foto}" alt="">\n          </div>\n          <div class="user__comment">\n            <div class="info__user__comment">\n              <div class="nom__user">${i.name}</div>\n              <div class="separating__info__date">•</div>\n              <div class="date__comment" data-time-stamp="${i.timestamp}">${s}</div>\n            </div>\n            <div class="comment__text">\n              <div class="content__comment__user comment__text__user">${i.comment}</div>\n            </div>\n          </div>\n        </div>\n        <div class="actions__comment">\n          <div class="like__action">\n            <i class="far fa-thumbs-up"></i>\n            <div class="number__likes__comment">${i.likes.length}</div>\n          </div>\n          <div class="dislike__action">\n            <i class="far fa-thumbs-down"></i>\n            <div class="number__dislikes__comment">${i.dislikes.length}</div>\n          </div>\n          <div class="reply__action">\n            Responder\n          </div>\n        </div>\n      </div>\n      <div class="subcomment__original">\n        \n      </div>\n      <div class="indicator__response__user">\n        Respondiendo a <div class="nom__user__destino">${i.name}</div>\n      </div>\n      <div class="my__subcomment__content">\n        <div class="my__img__subcomment">\n          <img class="my__foto__subcomment" src="${n}" alt="">\n        </div>\n        <div class="description__subcomment">\n          <textarea\n            class="input__subcomment"\n            placeholder="Escribe un comentario"\n          ></textarea>\n          <div class="content__btn__subcomment">\n            <button class="btn__send__subcomment">Comentar</button>\n          </div>\n        </div>\n      </div>\n    </div>`),t&&(i.likes.includes(t)&&($(".like__action").eq(a+e).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".like__action").eq(a+e).addClass("reaction__comment__active")),i.dislikes.includes(t)&&($(".dislike__action").eq(a+e).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".dislike__action").eq(a+e).addClass("reaction__comment__active"))),htmlSubComment="",i.subcomments.forEach((i,s)=>{if(s<=7){let t=timeago.format(i.timestamp,"es");$(".subcomment__original").eq(a+e).append(`\n        <div class="content__subcomments__card" data-id-subcomment="${i.subId}">\n        <div class="subcomment__content__user">\n        <div class="img__user__subcomment">\n          <img src="${i.foto}" alt="">\n        </div>\n        <div class="user__subcomment">\n          <div class="info__user__subcomment">\n            <div class="nom__user">${i.name}</div>\n            <div class="separating__info__date">•</div>\n            <div class="date__subcomment" data-time-stamp="${i.timestamp}">${t}</div>\n          </div>\n          <div class="subcomment__text">\n            <div class="content__subcomment__user comment__text__user"><a class="destino__comment">${i.destino}</a> ${i.comment}</div>\n          </div>\n        </div>\n      </div>\n      <div class="actions__subcomment">\n        <div class="like__action__sub">\n          <i class="far fa-thumbs-up"></i>\n          <div class="number__likes__subcomment">${i.likes.length}</div>\n        </div>\n        <div class="dislike__action__sub">\n          <i class="far fa-thumbs-down"></i>\n          <div class="number__dislikes__subcomment">${i.dislikes.length}</div>\n        </div>\n        <div class="reply__action">\n          Responder\n        </div>\n      </div>\n        </div>`)}else{let t=timeago.format(i.timestamp,"es");$(".subcomment__original").eq(a+e).append(`\n        <div class="content__subcomments__card d-none" data-id-subcomment="${i.subId}">\n        <div class="subcomment__content__user">\n        <div class="img__user__subcomment">\n          <img src="${i.foto}" alt="">\n        </div>\n        <div class="user__subcomment">\n          <div class="info__user__subcomment">\n            <div class="nom__user">${i.name}</div>\n            <div class="separating__info__date">•</div>\n            <div class="date__subcomment" data-time-stamp="${i.timestamp}">${t}</div>\n          </div>\n          <div class="subcomment__text">\n            <div class="content__subcomment__user comment__text__user"><a class="destino__comment">${i.destino}</a> ${i.comment}</div>\n          </div>\n        </div>\n      </div>\n      <div class="actions__subcomment">\n        <div class="like__action__sub">\n          <i class="far fa-thumbs-up"></i>\n          <div class="number__likes__subcomment">${i.likes.length}</div>\n        </div>\n        <div class="dislike__action__sub">\n          <i class="far fa-thumbs-down"></i>\n          <div class="number__dislikes__subcomment">${i.dislikes.length}</div>\n        </div>\n        <div class="reply__action">\n          Responder\n        </div>\n      </div>\n        </div>`)}t&&(i.likes.includes(t)&&($(".comment__total__user").eq(a+e).find(".like__action__sub").eq(s).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".comment__total__user").eq(a+e).find(".like__action__sub").eq(s).addClass("reaction__comment__active")),i.dislikes.includes(t)&&($(".comment__total__user").eq(a+e).find(".dislike__action__sub").eq(s).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".comment__total__user").eq(a+e).find(".dislike__action__sub").eq(s).addClass("reaction__comment__active")))}),i.subcomments.length>8&&$(".subcomment__original").eq(a+e).append('<div class="not__found__subcomments">Ver más respuestas</div>')}),$(".more__comments").remove(),n.moreComments&&$(".section__comments").append(`<div class="more__comments" data-next-page="${n.page}">Ver más comentarios</div>`)}),$("body").on("click",".not__found__subcomments",function(){$(this).parent().find(".content__subcomments__card").removeClass("d-none"),$(this).remove()}),$(".stream__video")[0]&&(async function(){let e=await fetch(`/getLikesVideo/${_id_video}`),i=await e.json(),t=$("#btnModalLogin").attr("data-user-id");$(".number__likes__video").text(i.likes.length),$(".number__dislikes__video").text(i.dislikes.length),i.likes.includes(t)&&($(".like__video").find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".like__video").addClass("reaction__active__video")),i.dislikes.includes(t)&&($(".dislike__video").find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".dislike__video").addClass("reaction__active__video"))}(),$(".section__comments").html('<div class="la-ball-clip-rotate la-light la-sm">\n    <div></div>\n  </div>'),async function(){$(".section__comments").html("");let e=_id_video,i=$("#btnModalLogin").attr("data-user-id"),t=await fetch(`/getComments/${e}`),a=await t.json(),s="";a.comments.length<=0?$(".section__comments").html('<div class="not__found__comments">No hay comentarios. Sé el primero en comentar</div>'):(a.comments.forEach((e,t)=>{let a=timeago.format(e.timestamp,"es"),n=$("#btnModalLogin").attr("data-foto-user");$(".section__comments").append(`<div class="comment__total__user" data-id-comment="${e._id}">\n    <div class="comment__original">\n      <div class="comment__content__user">\n        <div class="img__user__comment">\n          <img src="${e.foto}" alt="">\n        </div>\n        <div class="user__comment">\n          <div class="info__user__comment">\n            <div class="nom__user">${e.name}</div>\n            <div class="separating__info__date">•</div>\n            <div class="date__comment" data-time-stamp="${e.timestamp}">${a}</div>\n          </div>\n          <div class="comment__text">\n            <div class="content__comment__user comment__text__user">${e.comment}</div>\n          </div>\n        </div>\n      </div>\n      <div class="actions__comment">\n        <div class="like__action">\n          <i class="far fa-thumbs-up"></i>\n          <div class="number__likes__comment">${e.likes.length}</div>\n        </div>\n        <div class="dislike__action">\n          <i class="far fa-thumbs-down"></i>\n          <div class="number__dislikes__comment">${e.dislikes.length}</div>\n        </div>\n        <div class="reply__action">\n          Responder\n        </div>\n      </div>\n    </div>\n    <div class="subcomment__original">\n      \n    </div>\n    <div class="indicator__response__user">\n      Respondiendo a <div class="nom__user__destino">${e.name}</div>\n    </div>\n    <div class="my__subcomment__content">\n      <div class="my__img__subcomment">\n        <img class="my__foto__subcomment" src="${n}" alt="">\n      </div>\n      <div class="description__subcomment">\n        <textarea\n          class="input__subcomment"\n          placeholder="Escribe un comentario"\n        ></textarea>\n        <div class="content__btn__subcomment">\n          <button class="btn__send__subcomment">Comentar</button>\n        </div>\n      </div>\n    </div>\n  </div>`),i&&(e.likes.includes(i)&&($(".like__action").eq(t).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".like__action").eq(t).addClass("reaction__comment__active")),e.dislikes.includes(i)&&($(".dislike__action").eq(t).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".dislike__action").eq(t).addClass("reaction__comment__active"))),s="",e.subcomments.forEach((e,a)=>{if(a<=7){let i=timeago.format(e.timestamp,"es");$(".subcomment__original").eq(t).append(`\n      <div class="content__subcomments__card" data-id-subcomment="${e.subId}">\n      <div class="subcomment__content__user">\n      <div class="img__user__subcomment">\n        <img src="${e.foto}" alt="">\n      </div>\n      <div class="user__subcomment">\n        <div class="info__user__subcomment">\n          <div class="nom__user">${e.name}</div>\n          <div class="separating__info__date">•</div>\n          <div class="date__subcomment" data-time-stamp="${e.timestamp}">${i}</div>\n        </div>\n        <div class="subcomment__text">\n          <div class="content__subcomment__user comment__text__user"><a class="destino__comment">${e.destino}</a> ${e.comment}</div>\n        </div>\n      </div>\n    </div>\n    <div class="actions__subcomment">\n      <div class="like__action__sub">\n        <i class="far fa-thumbs-up"></i>\n        <div class="number__likes__subcomment">${e.likes.length}</div>\n      </div>\n      <div class="dislike__action__sub">\n        <i class="far fa-thumbs-down"></i>\n        <div class="number__dislikes__subcomment">${e.dislikes.length}</div>\n      </div>\n      <div class="reply__action">\n        Responder\n      </div>\n    </div>\n      </div>`)}else{let i=timeago.format(e.timestamp,"es");$(".subcomment__original").eq(t).append(`\n      <div class="content__subcomments__card d-none" data-id-subcomment="${e.subId}">\n      <div class="subcomment__content__user">\n      <div class="img__user__subcomment">\n        <img src="${e.foto}" alt="">\n      </div>\n      <div class="user__subcomment">\n        <div class="info__user__subcomment">\n          <div class="nom__user">${e.name}</div>\n          <div class="separating__info__date">•</div>\n          <div class="date__subcomment" data-time-stamp="${e.timestamp}">${i}</div>\n        </div>\n        <div class="subcomment__text">\n          <div class="content__subcomment__user comment__text__user"><a class="destino__comment">${e.destino}</a> ${e.comment}</div>\n        </div>\n      </div>\n    </div>\n    <div class="actions__subcomment">\n      <div class="like__action__sub">\n        <i class="far fa-thumbs-up"></i>\n        <div class="number__likes__subcomment">${e.likes.length}</div>\n      </div>\n      <div class="dislike__action__sub">\n        <i class="far fa-thumbs-down"></i>\n        <div class="number__dislikes__subcomment">${e.dislikes.length}</div>\n      </div>\n      <div class="reply__action">\n        Responder\n      </div>\n    </div>\n      </div>`)}i&&(e.likes.includes(i)&&($(".comment__total__user").eq(t).find(".like__action__sub").eq(a).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".comment__total__user").eq(t).find(".like__action__sub").eq(a).addClass("reaction__comment__active")),e.dislikes.includes(i)&&($(".comment__total__user").eq(t).find(".dislike__action__sub").eq(a).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".comment__total__user").eq(t).find(".dislike__action__sub").eq(a).addClass("reaction__comment__active")))}),e.subcomments.length>8&&$(".subcomment__original").eq(t).append('<div class="not__found__subcomments">Ver más respuestas</div>')}),a.moreComments&&$(".section__comments").append(`<div class="more__comments" data-next-page="${a.page}">Ver más comentarios</div>`))}()),socket.on("getLikes",e=>{$(`[data-id-comment=${e.idComment}]`).find(".number__likes__comment").text(e.likes),$(`[data-id-comment=${e.idComment}]`).find(".number__dislikes__comment").text(e.dislikes)}),socket.on("getsubLikes",e=>{$(`[data-id-subcomment=${e.idSubComment}]`).find(".number__likes__subcomment").text(e.likes),$(`[data-id-subcomment=${e.idSubComment}]`).find(".number__dislikes__subcomment").text(e.dislikes)}),socket.on("updateSubLikeCommentMe",e=>{e.focusLike?($(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").parent().find(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").addClass("reaction__comment__active")):($(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").removeClass("reaction__comment__active")),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").parent().parent().find(".number__likes__subcomment").text(e.likes),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").parent().parent().find(".number__dislikes__subcomment").text(e.dislikes),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").css("pointer-events","auto"),$(`[data-id-comment=${e.idComment}]`).find(".like__action__sub").parent().find(".dislike__action").css("pointer-events","auto")}),$("body").on("click",".like__action__sub",async function(){let e=$(this).parent().parent().parent().parent().attr("data-id-comment"),i=$(this).parent().parent(),t=$(this).parent().parent().attr("data-id-subcomment"),a=$("#btnModalLogin").attr("data-user-id");if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(this).parent().find(".dislike__action").css("pointer-events","none");let s=await fetch(`/likeSubComment/${e}?subId=${t}&user_id=${a}`),n=await s.json();n.likes?(n.focusLike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(this).parent().find(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(this).parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(this).addClass("reaction__comment__active")):($(this).find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(this).removeClass("reaction__comment__active")),i.find(".number__likes__subcomment").text(n.likes.length),i.find(".number__dislikes__subcomment").text(n.dislikes.length),$(this).css("pointer-events","auto"),$(this).parent().find(".dislike__action").css("pointer-events","auto"),socket.emit("updateSubLikeCommentMe",{idComment:e,likes:n.likes.length,dislikes:n.dislikes.length,focusLike:n.focusLike}),socket.emit("sublikeUpdate",{idComment:e,idSubComment:t,likes:n.likes.length,dislikes:n.dislikes.length})):console.log("error")}),socket.on("updateSubDislikeCommentMe",e=>{e.focusDislike?($(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").parent().find(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").addClass("reaction__comment__active")):($(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").removeClass("reaction__comment__active")),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").parent().parent().find(".number__likes__subcomment").text(e.likes),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").parent().parent().find(".number__dislikes__subcomment").text(e.dislikes),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").css("pointer-events","auto"),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action__sub").parent().find(".like__action").css("pointer-events","auto")}),$("body").on("click",".dislike__action__sub",async function(){let e=$(this).parent().parent().parent().parent().attr("data-id-comment"),i=$(this).parent().parent(),t=$(this).parent().parent().attr("data-id-subcomment"),a=$("#btnModalLogin").attr("data-user-id");if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(this).parent().find(".like__action").css("pointer-events","none");let s=await fetch(`/dislikeSubComment/${e}?subId=${t}&user_id=${a}`),n=await s.json();n.likes?(n.focusDislike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(this).parent().find(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(this).parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(this).addClass("reaction__comment__active")):($(this).find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(this).removeClass("reaction__comment__active")),i.find(".number__likes__subcomment").text(n.likes.length),i.find(".number__dislikes__subcomment").text(n.dislikes.length),$(this).css("pointer-events","auto"),$(this).parent().find(".like__action").css("pointer-events","auto"),socket.emit("updateSubDislikeCommentMe",{idComment:e,likes:n.likes.length,dislikes:n.dislikes.length,focusDislike:n.focusDislike}),socket.emit("sublikeUpdate",{idComment:e,idSubComment:t,likes:n.likes.length,dislikes:n.dislikes.length})):console.log("error")}),socket.on("updateLikeCommentMe",e=>{e.focusLike?($(`[data-id-comment=${e.idComment}]`).find(".like__action").find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action").parent().find(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action").parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(`[data-id-comment=${e.idComment}]`).find(".like__action").addClass("reaction__comment__active")):($(`[data-id-comment=${e.idComment}]`).find(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".like__action").removeClass("reaction__comment__active")),$(`[data-id-comment=${e.idComment}]`).find(".like__action").parent().find(".number__likes__comment").text(e.likes),$(`[data-id-comment=${e.idComment}]`).find(".like__action").parent().find(".number__dislikes__comment").text(res.dislikes),$(`[data-id-comment=${e.idComment}]`).find(".like__action").css("pointer-events","auto"),$(`[data-id-comment=${e.idComment}]`).find(".like__action").parent().find(".dislike__action").css("pointer-events","auto")}),$("body").on("click",".like__action",async function(){let e=$(this).parent().parent().parent().attr("data-id-comment"),i=$("#btnModalLogin").attr("data-user-id");if(!i)return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(this).parent().find(".dislike__action").css("pointer-events","none");let t=await fetch(`/likeComment/${e}?user_id=${i}`),a=await t.json();a.likes?(a.focusLike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(this).parent().find(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(this).parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(this).addClass("reaction__comment__active")):($(this).find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(this).removeClass("reaction__comment__active")),$(this).parent().find(".number__likes__comment").text(a.likes.length),$(this).parent().find(".number__dislikes__comment").text(a.dislikes.length),$(this).css("pointer-events","auto"),$(this).parent().find(".dislike__action").css("pointer-events","auto"),socket.emit("updateLikeCommentMe",{idComment:e,likes:a.likes.length,dislikes:a.dislikes.length,focusLike:a.focusLike}),socket.emit("likeUpdate",{idComment:e,likes:a.likes.length,dislikes:a.dislikes.length})):console.log("error")}),socket.on("updateDislikeCommentMe",e=>{e.focusDislike?($(`[data-id-comment=${e.idComment}]`).find(".dislike__action").find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").parent().find(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").addClass("reaction__comment__active")):($(`[data-id-comment=${e.idComment}]`).find(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").removeClass("reaction__comment__active")),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").parent().find(".number__dislikes__comment").text(e.dislikes),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").parent().find(".number__likes__comment").text(e.likes),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").css("pointer-events","auto"),$(`[data-id-comment=${e.idComment}]`).find(".dislike__action").parent().find(".like__action").css("pointer-events","auto")}),$("body").on("click",".dislike__action",async function(){let e=$(this).parent().parent().parent().attr("data-id-comment"),i=$("#btnModalLogin").attr("data-user-id");if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(this).parent().find(".like__action").css("pointer-events","none");let t=await fetch(`/dislikeComment/${e}?user_id=${i}`),a=await t.json();a.dislikes?(a.focusDislike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(this).parent().find(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(this).parent().find(".reaction__comment__active").removeClass("reaction__comment__active"),$(this).addClass("reaction__comment__active")):($(this).find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(this).removeClass("reaction__comment__active")),$(this).parent().find(".number__dislikes__comment").text(a.dislikes.length),$(this).parent().find(".number__likes__comment").text(a.likes.length),$(this).css("pointer-events","auto"),$(this).parent().find(".like__action").css("pointer-events","auto"),socket.emit("updateDislikeCommentMe",{idComment:e,likes:a.likes.length,dislikes:a.dislikes.length,focusDislike:a.focusDislike}),socket.emit("likeUpdate",{idComment:e,likes:a.likes.length,dislikes:a.dislikes.length})):console.log("error")}),socket.on("updateLikeMe",e=>{e.focusLike?($(".like__video").find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".reaction__active__video").removeClass("reaction__active__video"),$(".like__video").addClass("reaction__active__video")):($(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__video").removeClass("reaction__active__video")),$(".like__video").parent().find(".number__likes__video").text(e.likes),$(".like__video").parent().find(".number__dislikes__video").text(e.dislikes),$(".like__video").css("pointer-events","auto"),$(".dislike__video").css("pointer-events","auto")}),$("body").on("click",".like__video",async function(){if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(".dislike__video").css("pointer-events","none");let e=_id_video,i=$("#btnModalLogin").attr("data-user-id"),t=await fetch(`/likeVideo/${e}?user_id=${i}`),a=await t.json();a.likes?(a.focusLike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-up"></i>'),$(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".reaction__active__video").removeClass("reaction__active__video"),$(this).addClass("reaction__active__video")):($(this).find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(this).removeClass("reaction__active__video")),$(this).parent().find(".number__likes__video").text(a.likes.length),$(this).parent().find(".number__dislikes__video").text(a.dislikes.length),$(this).css("pointer-events","auto"),$(".dislike__video").css("pointer-events","auto"),socket.emit("updateLikeMe",{likes:a.likes.length,dislikes:a.dislikes.length,focusLike:a.focusLike}),socket.emit("likeVideoUpdate",{likes:a.likes.length,dislikes:a.dislikes.length})):console.log("error")}),socket.on("updateDislikeMe",e=>{e.focusDislike?($(".dislike__video").find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".reaction__active__video").removeClass("reaction__active__video"),$(".dislike__video").addClass("reaction__active__video")):($(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__video").removeClass("reaction__active__video")),$(".dislike__video").parent().find(".number__likes__video").text(e.likes),$(".dislike__video").parent().find(".number__dislikes__video").text(e.dislikes),$(".dislike__video").css("pointer-events","auto"),$(".like__video").css("pointer-events","auto")}),$("body").on("click",".dislike__video",async function(){if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");$(this).css("pointer-events","none"),$(".like__video").css("pointer-events","none");let e=_id_video,i=$("#btnModalLogin").attr("data-user-id"),t=await fetch(`/dislikeVideo/${e}?user_id=${i}`),a=await t.json();a.likes?(a.focusDislike?($(this).find("i").replaceWith('<i class="fas fa-thumbs-down"></i>'),$(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".reaction__active__video").removeClass("reaction__active__video"),$(this).addClass("reaction__active__video")):($(this).find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(this).removeClass("reaction__active__video")),$(this).parent().find(".number__likes__video").text(a.likes.length),$(this).parent().find(".number__dislikes__video").text(a.dislikes.length),$(this).css("pointer-events","auto"),$(".like__video").css("pointer-events","auto"),socket.emit("updateDislikeMe",{likes:a.likes.length,dislikes:a.dislikes.length,focusDislike:a.focusDislike}),socket.emit("likeVideoUpdate",{likes:a.likes.length,dislikes:a.dislikes.length})):console.log("error")}),socket.on("getLikesVideo",e=>{$(".number__likes__video").text(e.likes),$(".number__dislikes__video").text(e.dislikes)}),$("body").on("click",".btn__send__subcomment",function(){let e=$(this).parent().parent().find(".input__subcomment").val();if(""==e)return void f("Error!, El campo de comentario no puede estar vacio.");if(e.length<5)return void f("Error!, El comentario debe contener al menos 5 caracteres.");let i=$(this).parent().parent().parent().parent().attr("data-id-comment"),t=$(this).parent().parent().parent().parent().find(".nom__user__destino").text(),a=$("#btnModalLogin").attr("data-name-user"),s=$("#btnModalLogin").attr("data-foto-user");socket.emit("subComments",{id:i,name:a,comment:e,foto:s,timestamp:new Date,likes:[],dislikes:[],destino:t}),$(this).parent().parent().find(".input__subcomment").val("")}),socket.on("getSubComments",e=>{let i=timeago.format(e.timestamp,"es");$(`[data-id-comment=${e.id}]`).find(".subcomment__original").append(`\n    <div class="content__subcomments__card" data-id-subcomment="${e.subId}">\n    <div class="subcomment__content__user">\n    <div class="img__user__subcomment">\n      <img src="${e.foto}" alt="">\n    </div>\n    <div class="user__subcomment">\n      <div class="info__user__subcomment">\n        <div class="nom__user">${e.name}</div>\n        <div class="separating__info__date">•</div>\n        <div class="date__subcomment" data-time-stamp="${e.timestamp}">${i}</div>\n      </div>\n      <div class="subcomment__text">\n        <div class="content__subcomment__user comment__text__user"><a class="destino__comment">${e.destino}</a> ${e.comment}</div>\n      </div>\n    </div>\n  </div>\n  <div class="actions__subcomment">\n    <div class="like__action__sub">\n      <i class="far fa-thumbs-up"></i>\n      <div class="number__likes__subcomment">${e.likes.length}</div>\n    </div>\n    <div class="dislike__action__sub">\n      <i class="far fa-thumbs-down"></i>\n      <div class="number__dislikes__subcomment">${e.dislikes.length}</div>\n    </div>\n    <div class="reply__action">\n      Responder\n    </div>\n  </div>\n  </div>`)}),$("body").on("click",".reply__action",function(){if(!$("#btnModalLogin").attr("data-login-start"))return void $("#modalLogin").attr("style","display:flex;");let e=$(this).parent().parent().find(".nom__user").text();$(this).parent().parent().parent().parent().find(".nom__user__destino").text(e);let i,t=!1;$(this).hasClass("active__reply")&&(t=!0),(i=$(this).parent().parent().parent().hasClass("subcomment__original")?$(this).parent().parent().parent().parent():$(this).parent().parent().parent()).find(".active__reply").removeClass("active__reply"),t?($(this).removeClass("active__reply"),i.find(".indicator__response__user").removeClass("d-flex-show"),i.find(".my__subcomment__content").removeClass("d-flex-show")):($(this).addClass("active__reply"),i.find(".indicator__response__user").addClass("d-flex-show"),i.find(".my__subcomment__content").addClass("d-flex-show")),i.find(".input__subcomment").focus()}),$(".btn__send__comment").on("click",function(){if(!$("[data-login-start]")[0])return void $("#modalLogin").attr("style","display:flex;");if(""==$(".input__comment").val())return void f("Error!, El campo de comentario no debe estar vacio.");if($(".input__comment").val().length<5)return void f("Error!, El comentario debe contener al menos 5 caracteres.");let e=$(".input__comment").val(),i=$("#btnModalLogin").attr("data-name-user"),t=$("#btnModalLogin").attr("data-foto-user");new Date;socket.emit("sendComment",{video_id:_id_video,name:i,foto:t,comment:e}),$(".input__comment").val("")}),$(".tab_peli").on("click",function(){$(".content_img_videos").addClass("d-none"),$(".peliculas__content").removeClass("d-none")});let r=!1;$(".tab_serie").on("click",async function(){if(r&&($(".content_img_videos").addClass("d-none"),$(".series__content").removeClass("d-none")),!$(this).hasClass("active")&&!r){$(".content_img_videos").addClass("d-none"),$(".series__content").removeClass("d-none");let e="";for(let i=0;i<24;i++)e+='<div className="skeletor-preview-video">\n        <div class="skeletor-preview-content">\n                    <div class="skeletor-img-preview"></div>\n                    <div class="line line-1"></div>\n                    <div class="line line-3"></div>\n                  </div>\n        </div>';$(".series__content").html(e);let i=await fetch("/getSerie"),a=await i.json(),s="";a.forEach(e=>{s+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n        <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n        <p class="title-video">${e.title} (${e.year})</p>\n        <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n      </a>`}),$(".series__content").html(s),t(),c(),r=!0}});let m,v,u=!1;function p(){$("#formRegister").get(0).reset(),$(".error__pass").removeClass("show"),$(".invalid__input").removeClass("invalid__input"),$(".form__login").show(),$(".form__login__register").hide(),$(".login-footer").show(),$(".register-footer").hide()}function f(e){var i=document.getElementById("snackbar");i.textContent=e,i.className="show",clearTimeout(v),v=setTimeout(function(){i.className=i.className.replace("show","")},4e3)}function h(){$(".success__alert__login").addClass("show"),setTimeout(function(){$(".success__alert__login").removeClass("show")},2500)}var g;function b(e){$(".error__pass").addClass("show"),$(".msg__text__error").text(e)}if($(".tab_anime").on("click",async function(){if(u&&($(".content_img_videos").addClass("d-none"),$(".animes__content").removeClass("d-none")),!$(this).hasClass("active")&&!u){$(".content_img_videos").addClass("d-none"),$(".animes__content").removeClass("d-none");let e="";for(let i=0;i<24;i++)e+='<div className="skeletor-preview-video">\n        <div class="skeletor-preview-content">\n                    <div class="skeletor-img-preview"></div>\n                    <div class="line line-1"></div>\n                    <div class="line line-3"></div>\n                  </div>\n        </div>';$(".animes__content").html(e);let i=await fetch("/getAnime"),a=await i.json(),s="";a.forEach(e=>{s+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n        <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n        <p class="title-video">${e.title} (${e.year})</p>\n        <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n      </a>`}),$(".animes__content").html(s),t(),c(),u=!0}}),$(".tablinks").on("click",function(e){if(e.currentTarget.classList.contains("option__available")){for(t=document.getElementsByClassName("tabcontent"),i=0;i<t.length;i++)t[i].style.display="none";for(a=document.getElementsByClassName("tablinks"),i=0;i<a.length;i++)a[i].className=a[i].className.replace(" active__stream","");e.currentTarget.className+=" active__stream"}else if(e.currentTarget.classList.contains("season__part")){for(t=document.getElementsByClassName("tabcontent"),i=0;i<t.length;i++)t[i].style.display="none";for(a=document.getElementsByClassName("tablinks"),i=0;i<a.length;i++)a[i].className=a[i].className.replace(" active__temp","");e.currentTarget.className+=" active__temp"}else{var i,t,a;for(t=document.getElementsByClassName("tabcontent"),i=0;i<t.length;i++)t[i].style.display="none";for(a=document.getElementsByClassName("tablinks"),i=0;i<a.length;i++)a[i].className=a[i].className.replace(" active","");e.currentTarget.className+=" active"}}),$(".btnMoreVideos").on("click",function(){location.href=`/${$("button.active").text().toLowerCase()}`}),$("#stream__media")[0]&&($("#stream__media").attr("src").includes("pelisplushd.me")?$(".play__stream__plusto").removeClass("d-none"):$(".play__stream__plusto").addClass("d-none")),$(".option__available").on("click",function(e){clearTimeout(m),$(".block__loading__stream").addClass("show"),$(".preloading__stream").removeClass("d-none"),$("#stream__media").remove(),$(".video__content").html(`<iframe\n      id="stream__media"\n      src="${this.dataset.targetVideo}"\n      frameborder="0"\n      width="100%"\n      height="400px"\n      allow="autoplay; encrypted-media"\n      allowfullscreen\n    ></iframe>`),this.dataset.targetVideo.includes("pelisplushd.me")?$(".play__stream__plusto").removeClass("d-none"):$(".play__stream__plusto").addClass("d-none"),$("#stream__media").on("load",function(){$(".preloading__stream").addClass("d-none")}),m=setTimeout(()=>{$(".preloading__stream").addClass("d-none")},4e3)}),$(".play__stream__plusto a").on("click",function(e){e.preventDefault(),window.open(this.href,"_blank")}),$(".preloading__stream").addClass("d-none"),$(".block__loading__stream").removeClass("show"),$("body").on("load","#stream__media",function(){$(".preloading__stream").addClass("d-none")}),$("#stream__media").on("click",function(){}),$(".season__part").on("click",function(){$(".d-flex-show").removeClass("d-flex-show"),$(`[data-target-temp=${$(this).attr("id")}]`).addClass("d-flex-show")}),$(".search__icon").on("click",async function(){if(""==$(".input__search").val()&&!confirm("¿Está seguro de buscar todas las peliculas y series?, esto podria tardar un poco."))return;$(".search__icon").css("pointer-events","none");let e=$(".input__search").val();$(".search__icon").html('<div class="la-ball-clip-rotate la-light la-sm">\n        <div></div>\n    </div>');let a=await fetch(`/searchVideo/${e}`),s=await a.json(),n=s.page;history.pushState(null,"",`/search/${e}?page=${n||1}`);let o=`<div class="container container_home animate__animated animate__fadeIn">\n        <div class="content_last_videos">\n          <h3 class="title_videos_last">Estas buscando: ${e} pagina ${n||1} latino HD</h3>\n          <div class="content_img_videos">\n                     \n          </div>\n        </div>\n          <div id="pagination_container"></div>\n          <div id="data_container"></div>\n      </div>`;$(".container").replaceWith(o);let l="";s.movies.forEach(e=>{"Pelicula"==e.type?l+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__peli">Película</div>\n          <img class="image-loaded" src="${e.image}" alt="">\n          <p class="title-video">${e.title} (${e.year})</p>\n          <div class="rating icon-star">\n            <i class="fas fa-star" aria-hidden="true"></i>\n            <label class="score">${e.score}</label>\n          </div>\n        </a> `:"Serie"==e.type?l+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__serie">Serie</div>\n        <img class="image-loaded" src="${e.image}" alt="">\n        <p class="title-video">${e.title} (${e.year})</p>\n        <div class="rating icon-star">\n          <i class="fas fa-star" aria-hidden="true"></i>\n          <label class="score">${e.score}</label>\n        </div>\n      </a> `:"Anime"==e.type&&(l+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__anime">Anime</div>\n          <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n          <p class="title-video">${e.title} (${e.year})</p>\n          <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n        </a>`)}),$(".content_img_videos").html(l),t(),c();let _=0;if(0==s.pages)return $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>'),$(".search__icon").html('<i class="fas fa-search"></i>'),void $(".search__icon").css("pointer-events","auto");$("#pagination_container").twbsPagination({totalPages:s.pages,visiblePages:4,startPage:parseInt(n),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){if(++_>1){$(".content_img_videos").html(i),history.pushState(null,"",`/search/${e}?page=${s}`);let a=await fetch(`/searchVideo/${e}?page=${s}`),n=await a.json(),o="";n.movies.forEach(e=>{"Pelicula"==e.type?o+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__peli">Película</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Serie"==e.type?o+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__serie">Serie</div>\n                <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                <p class="title-video">${e.title} (${e.year})</p>\n                <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n              </a>`:"Anime"==e.type&&(o+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__anime">Anime</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`)}),$(".content_img_videos").html(o),$(".title_videos_last").html(`Estas buscando: ${e} pagina ${s} latino HD`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}}),$(".search__icon").html('<i class="fas fa-search"></i>'),$(".search__icon").css("pointer-events","auto")}),$(".input__search").on("keyup",async function(e){if(13==e.keyCode){if(e.preventDefault(),""==$(this).val()&&!confirm("¿Está seguro de buscar todas las peliculas y series?, esto podria tardar un poco."))return;let a=$(this).val();$(".search__icon").css("pointer-events","none"),$(".search__icon").html('<div class="la-ball-clip-rotate la-light la-sm">\n        <div></div>\n    </div>');let s=await fetch(`/searchVideo/${a}`),n=await s.json(),o=n.page;history.pushState(null,"",`/search/${a}?page=${o||1}`);let l=`<div class="container container_home animate__animated animate__fadeIn">\n        <div class="content_last_videos">\n          <h3 class="title_videos_last">Estas buscando: ${a} pagina ${o||1} latino HD</h3>\n          <div class="content_img_videos">\n                     \n          </div>\n        </div>\n          <div id="pagination_container"></div>\n          <div id="data_container"></div>\n      </div>`;$(".container").replaceWith(l);let _="";n.movies.forEach(e=>{"Pelicula"==e.type?_+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__peli">Película</div>\n          <img class="image-loaded" src="${e.image}" alt="">\n          <p class="title-video">${e.title} (${e.year})</p>\n          <div class="rating icon-star">\n            <i class="fas fa-star" aria-hidden="true"></i>\n            <label class="score">${e.score}</label>\n          </div>\n        </a> `:"Serie"==e.type?_+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__serie">Serie</div>\n        <img class="image-loaded" src="${e.image}" alt="">\n        <p class="title-video">${e.title} (${e.year})</p>\n        <div class="rating icon-star">\n          <i class="fas fa-star" aria-hidden="true"></i>\n          <label class="score">${e.score}</label>\n        </div>\n      </a> `:"Anime"==e.type&&(_+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n          <div class="type__video__indicator__anime">Anime</div>\n          <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n          <p class="title-video">${e.title} (${e.year})</p>\n          <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n        </a>`)}),$(".content_img_videos").html(_),t(),c();let d=0;if(0==n.pages)return $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>'),$(".search__icon").html('<i class="fas fa-search"></i>'),void $(".search__icon").css("pointer-events","auto");$("#pagination_container").twbsPagination({totalPages:n.pages,visiblePages:4,startPage:parseInt(o),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(e,s){if(++d>1){$(".content_img_videos").html(i),history.pushState(null,"",`/search/${a}?page=${s}`);let e=await fetch(`/searchVideo/${a}?page=${s}`),n=await e.json(),o="";n.movies.forEach(e=>{"Pelicula"==e.type?o+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__peli">Película</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Serie"==e.type?o+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__serie">Serie</div>\n                <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                <p class="title-video">${e.title} (${e.year})</p>\n                <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n              </a>`:"Anime"==e.type&&(o+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__anime">Anime</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`)}),$(".content_img_videos").html(o),$(".title_videos_last").html(`Estas buscando: ${a} pagina ${s} latino HD`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}}),$(".search__icon").html('<i class="fas fa-search"></i>'),$(".search__icon").css("pointer-events","auto")}}),$("#snackbar").click(function(){$(this).removeClass("show")}),$(".show__register").on("click",function(){$("#formLogin").get(0).reset(),$(".error__pass").removeClass("show"),$(".invalid__input").removeClass("invalid__input"),$(".form__login").hide(),$(".form__login__register").show(),$(".login-footer").hide(),$(".register-footer").show()}),$(".show__login").on("click",p),$("#btnModalTrailer").on("click",function(){$("#modalTrailer").attr("style","display: flex;"),$("body").addClass("ov__hidden"),$(".preloading__stream__trailer").removeClass("d-none")}),$(document).on("click.card__info__user",function(e){var i=$(e.target);$(".card__info__user").hasClass("d-none")||i.closest(".card__info__user").length||i.closest("#btnModalLogin").length||i.closest("#modalAddInfo").length||$(".card__info__user").removeClass("d-flex-show")}),$("#btnModalLogin").on("click",function(){$(this).attr("data-login-start")?$(".card__info__user").toggleClass("d-flex-show"):($("#modalLogin").attr("style","display: flex;"),$("body").addClass("ov__hidden"))}),socket.on("logoutMe",()=>{$(".img__user").attr("src","/img/user_change.PNG"),$("#btnModalLogin").removeAttr("data-login-start"),$(".exit__session").parent().removeClass("d-flex-show"),$("#btnModalLogin").removeClass("started__login"),$(".my__foto__comment").attr("src","/img/user_change.PNG"),$(".my__foto__subcomment").attr("src","/img/user_change.PNG"),$(".indicator__response__user").removeClass("d-flex-show"),$(".my__subcomment__content").removeClass("d-flex-show"),$(".save__lista__video").removeClass("lista__added"),$(".save__lista__video").html("Agregar a mi lista"),$(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__video").removeClass("reaction__active__video"),$(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__video").removeClass("reaction__active__video"),$(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__action").removeClass("reaction__comment__active"),$(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__action").removeClass("reaction__comment__active"),$(".like__action__sub").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__action__sub").removeClass("reaction__comment__active"),$(".dislike__action__sub").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__action__sub").removeClass("reaction__comment__active"),$(".active__reply").removeClass("active__reply")}),$(".exit__session").on("click",async function(){let e=await fetch("/logout");(await e.json()).success&&($(".img__user").attr("src","/img/user_change.PNG"),$("#btnModalLogin").removeAttr("data-login-start"),$(this).parent().removeClass("d-flex-show"),$("#btnModalLogin").removeClass("started__login"),$(".my__foto__comment").attr("src","/img/user_change.PNG"),$(".my__foto__subcomment").attr("src","/img/user_change.PNG"),$(".indicator__response__user").removeClass("d-flex-show"),$(".my__subcomment__content").removeClass("d-flex-show"),$(".save__lista__video").removeClass("lista__added"),$(".save__lista__video").html("Agregar a mi lista"),$(".like__video").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__video").removeClass("reaction__active__video"),$(".dislike__video").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__video").removeClass("reaction__active__video"),$(".like__action").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__action").removeClass("reaction__comment__active"),$(".dislike__action").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__action").removeClass("reaction__comment__active"),$(".like__action__sub").find("i").replaceWith('<i class="far fa-thumbs-up"></i>'),$(".like__action__sub").removeClass("reaction__comment__active"),$(".dislike__action__sub").find("i").replaceWith('<i class="far fa-thumbs-down"></i>'),$(".dislike__action__sub").removeClass("reaction__comment__active"),$(".active__reply").removeClass("active__reply"),socket.emit("logoutMe"),location.href.includes("/my-list")&&(location.href="/"))}),$(".my__account").on("click",function(){$("#modalAddInfo").attr("style","display: flex;")}),localStorage.loginId||(localStorage.loginId=(g=(new Date).getTime(),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(g+16*Math.random())%16|0;return g=Math.floor(g/16),("x"==e?i:3&i|8).toString(16)}))),socket.emit("getLocalId",localStorage.loginId),socket.on("loginMeRedirect",()=>{location.reload()}),socket.on("loginMe",e=>{if($("#modalLogin").attr("style","display: none;"),$("body").removeClass("ov__hidden"),h(),$("#btnModalLogin").attr("data-login-start","start"),$("#btnModalLogin").addClass("started__login"),$(".foto__user").find("img").attr("src",e.user.foto),$(".name__user__info").text(e.user.name),$(".email__user__info").text(e.user.user),$("#btnModalLogin").attr("data-name-user",e.user.name),$("#btnModalLogin").attr("data-email-user",e.user.user),$("#btnModalLogin").attr("data-foto-user",e.user.foto),$("#btnModalLogin").attr("data-user-id",e.user.id),$(".my__foto__comment").attr("src",e.user.foto),$(".my__foto__subcomment").attr("src",e.user.foto),$(".stream__video")[0]){let i=_id_video;e.watchlist.find(e=>e.video_id==i)?($(".save__lista__video").addClass("lista__added"),$(".save__lista__video").html("Agregado a mi lista")):($(".save__lista__video").removeClass("lista__added"),$(".save__lista__video").html("Agregar a mi lista"))}$(".form__login input").removeClass("invalid__input"),$(".error__pass").removeClass("show"),socket.emit("getUser",e.user.id)}),$("#formLogin").on("submit",async function(e){e.preventDefault(),$(".login__enter").html('<div class="la-ball-clip-rotate la-light la-sm">\n    <div></div>');let i=new FormData(this),t=await fetch("/verificarLogin",{method:"POST",body:i}),a=await t.json();if(a.success){if($("#modalLogin").attr("style","display: none;"),$("body").removeClass("ov__hidden"),h(),$("#btnModalLogin").attr("data-login-start","start"),$("#btnModalLogin").addClass("started__login"),$(".foto__user").find("img").attr("src",a.user.foto),$(".name__user__info").text(a.user.name),$(".email__user__info").text(a.user.user),$("#btnModalLogin").attr("data-name-user",a.user.name),$("#btnModalLogin").attr("data-email-user",a.user.user),$("#btnModalLogin").attr("data-foto-user",a.user.foto),$("#btnModalLogin").attr("data-user-id",a.user.id),$(".my__foto__comment").attr("src",a.user.foto),$(".my__foto__subcomment").attr("src",a.user.foto),$(".stream__video")[0]){let e=_id_video;a.watchlist.find(i=>i.video_id==e)?($(".save__lista__video").addClass("lista__added"),$(".save__lista__video").html("Agregado a mi lista")):($(".save__lista__video").removeClass("lista__added"),$(".save__lista__video").html("Agregar a mi lista"))}$(".form__login input").removeClass("invalid__input"),$(".error__pass").removeClass("show"),socket.emit("getUser",a.user.id),socket.emit("loginMe",a)}else $(".form__login input").addClass("invalid__input"),b("Datos incorrectos");$(".login__enter").html("Crear una cuenta")}),$("#formRegister").on("submit",async function(e){e.preventDefault(),$(".login__enter").html('<div class="la-ball-clip-rotate la-light la-sm">\n    <div></div>');let i=new FormData(this),t=i.get("name"),a=i.get("email"),s=i.get("password");if(s!=i.get("password2"))return $(".form__login__register #password,.form__login__register #password2").addClass("invalid__input"),b("Las contraseñas no coinciden"),void $(".login__enter").html("Crear una cuenta");let n=await fetch("/saveUser",{method:"POST",body:JSON.stringify({name:t,email:a,password:s}),headers:{"Content-Type":"application/json"}});var o;(await n.json()).success?(p(),o="Se ha registrado exitosamente, por favor ahora inicie sesión.",$(".success__alert").addClass("show"),setTimeout(function(){$(".msg__success").text(o),$(".success__alert").removeClass("show")},2500)):b("El usuario ingresado ya existe"),$(".login__enter").html("Crear una cuenta")}),$("body").on("click",".close",function(){$(this).parent().parent().attr("style","display: none;"),$("body").removeClass("ov__hidden"),"modalTrailer"==$(this).parent().parent().attr("id")&&$("#player__trailer").removeAttr("src")}),$(".movie__trailer").on("click",async function(){if(!this.dataset.trailerId){let e=this.dataset.targetSearch,i=await fetch(`/getTrailer/${e}`),t=await i.text();this.dataset.trailerId=t}let e=this.dataset.trailerId;$("#player__trailer").attr("src",`https://www.youtube.com/embed/${e}?autoplay=1`),$("#player__trailer").attr("data-target-loaded","loaded")}),$("#player__trailer").on("load",function(){$("#modalTrailer").is(":hidden")&&$(this).removeAttr("src"),$(".preloading__stream__trailer").addClass("d-none")}),numberPages)if(location.href.includes("/generos/")){let e=0;if(0==numberPages)return void $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>');$("#pagination_container").twbsPagination({totalPages:numberPages,visiblePages:4,startPage:parseInt(currentPage),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){let n;if(++e>1){$(".content_img_videos").html(i),location.href.includes("/peliculas")?(history.pushState(null,"",`/generos/${genero}/peliculas?page=${s}`),n=await fetch(`/getFindGenreType/${s}/peliculas?genero=${genero}`)):location.href.includes("/series")?(history.pushState(null,"",`/generos/${genero}/series?page=${s}`),n=await fetch(`/getFindGenreType/${s}/series?genero=${genero}`)):location.href.includes("/animes")?(history.pushState(null,"",`/generos/${genero}/animes?page=${s}`),n=await fetch(`/getFindGenreType/${s}/animes?genero=${genero}`)):(history.pushState(null,"",`/generos/${genero}?page=${s}`),n=await fetch(`/getFindGenre/${s}?genero=${genero}`));let e=await n.json(),a="";e.forEach(e=>{"Pelicula"==e.type?a+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__peli">Película</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Serie"==e.type?a+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__serie">Serie</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Anime"==e.type&&(a+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__anime">Anime</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`)}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Lista completa de ${sectionPage} de género ${genero} Pagina: ${s} online en hd gratis`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}})}else if(location.href.includes("/year/")){let e=0;if(0==numberPages)return void $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>');$("#pagination_container").twbsPagination({totalPages:numberPages,visiblePages:4,startPage:parseInt(currentPage),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){let n;if(++e>1){$(".content_img_videos").html(i),location.href.includes("/peliculas")?(history.pushState(null,"",`/year/${year}/peliculas?page=${s}`),n=await fetch(`/getFindYearType/${s}/peliculas?year=${year}`)):location.href.includes("/series")?(history.pushState(null,"",`/year/${year}/series?page=${s}`),n=await fetch(`/getFindYearType/${s}/series?year=${year}`)):location.href.includes("/animes")?(history.pushState(null,"",`/year/${year}/animes?page=${s}`),n=await fetch(`/getFindYearType/${s}/animes?year=${year}`)):(history.pushState(null,"",`/year/${year}?page=${s}`),n=await fetch(`/getFindYear/${s}?year=${year}`));let e=await n.json(),a="";e.forEach(e=>{"Pelicula"==e.type?a+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__peli">Película</div>\n                    <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                    <p class="title-video">${e.title} (${e.year})</p>\n                    <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                  </a>`:"Serie"==e.type?a+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__serie">Serie</div>\n                    <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                    <p class="title-video">${e.title} (${e.year})</p>\n                    <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                  </a>`:"Anime"==e.type&&(a+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__anime">Anime</div>\n                    <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                    <p class="title-video">${e.title} (${e.year})</p>\n                    <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                  </a>`)}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Lista completa de ${sectionPage} Año: ${year} pagina ${s} latino Online Gratis HD`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}})}else if(location.href.includes("/search/")){let e=0;if(0==numberPages)return void $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>');$("#pagination_container").twbsPagination({totalPages:numberPages,visiblePages:4,startPage:parseInt(currentPage)||1,prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){if(++e>1){$(".content_img_videos").html(i),history.pushState(null,"",`/search/${titleSearchInit}?page=${s}`);let e=await fetch(`/searchVideo/${titleSearchInit}?page=${s}`),a=await e.json(),n="";a.movies.forEach(e=>{"Pelicula"==e.type?n+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__peli">Película</div>\n                    <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                    <p class="title-video">${e.title} (${e.year})</p>\n                    <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                  </a>`:"Serie"==e.type?n+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__serie">Serie</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Anime"==e.type&&(n+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                    <div class="type__video__indicator__anime">Anime</div>\n                    <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                    <p class="title-video">${e.title} (${e.year})</p>\n                    <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                  </a>`)}),$(".content_img_videos").html(n),$(".title_videos_last").html(`Estas buscando: ${titleSearchInit} pagina ${s} latino HD`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}})}else if(location.href.includes("/my-list")){let e=0;if(0==numberPages)return void $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>');$("#pagination_container").twbsPagination({totalPages:numberPages,visiblePages:4,startPage:parseInt(currentPage),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){let n;if(++e>1){$(".content_img_videos").html(i),history.pushState(null,"",`/my-list/${s}`),n=await fetch(`/findMyList/${s}`);let e=await n.json(),a="";e.watchs.forEach(e=>{"Pelicula"==e.type?a+=`<a href="/pelicula/${e.video_id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__peli">Película</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Serie"==e.type?a+=`<a href="/serie/${e.video_id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__serie">Serie</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`:"Anime"==e.type&&(a+=`<a href="/anime/${e.video_id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <div class="type__video__indicator__anime">Anime</div>\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`)}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Mi lista - pagina ${s}`),t(),c(),window.scroll({top:0,behavior:"smooth"})}}})}else{let e=0;if(0==numberPages)return void $(".content_img_videos").html('<div class="not__found">No se encontraron resultados.</div>');$("#pagination_container").twbsPagination({totalPages:numberPages,visiblePages:4,startPage:parseInt(currentPage),prev:'<span aria-hidden="true">&laquo;</span>',next:'<span aria-hidden="true">&raquo;</span>',onPageClick:async function(a,s){if(++e>1){if($(".content_img_videos").html(i),"Peliculas"==sectionPage){history.pushState(null,"",`/peliculas/${s}`);let e=await fetch(`/findPeliculas/${s}`),i=await e.json(),a="";i.forEach(e=>{a+=`<a href="/pelicula/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Lista completa de Peliculas Pagina: ${s} online en hd gratis`),t(),c()}else if("Series"==sectionPage){history.pushState(null,"",`/series/${s}`);let e=await fetch(`/findSeries/${s}`),i=await e.json(),a="";i.forEach(e=>{a+=`<a href="/serie/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Lista completa de Series Pagina: ${s} online en hd gratis`),t(),c()}else if("Animes"==sectionPage){history.pushState(null,"",`/animes/${s}`);let e=await fetch(`/findAnimes/${s}`),i=await e.json(),a="";i.forEach(e=>{a+=`<a href="/anime/${e._id}" class="carousel__elemento wave tooltip_auto" data-tippy-content="${e.title} (${e.year})">\n                  <img class="image-loading" src="/img/placeholder-image.png" data-src="${e.image}" alt="">\n                  <p class="title-video">${e.title} (${e.year})</p>\n                  <div class="rating icon-star"><i class="fas fa-star"></i> <label class="score">${e.score}</label></div>\n                </a>`}),$(".content_img_videos").html(a),$(".title_videos_last").html(`Lista completa de Animes Pagina: ${s} online en hd gratis`),t(),c()}window.scroll({top:0,behavior:"smooth"})}}})}}),window.addEventListener("load",function(){$(".carousel")[0]&&new Glider(document.querySelector(".carousel__lista"),{slidesToShow:10,slidesToScroll:10,draggable:!0,dots:".carousel__indicadores",arrows:{prev:".carousel__anterior",next:".carousel__siguiente"},responsive:[{breakpoint:0,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:167,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:330,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:334,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:501,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:668,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:835,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1002,settings:{slidesToShow:7,slidesToScroll:7}},{breakpoint:1169,settings:{slidesToShow:8,slidesToScroll:8}},{breakpoint:1336,settings:{slidesToShow:9,slidesToScroll:9}}]})});